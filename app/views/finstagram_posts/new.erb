
<h2>New Post</h2>

<ul class="errors">
    <% @finstagram_post.errors.full_messages.each do |message| %>
      <li><%= message %></li>
    <% end %>
  </ul>
  <img id="preview" style="display: none; max-width: 200px;">
<form action="/finstagram_posts" method="POST">
    <div class="form-group">
      <label for="photo_url">Photo URL</label>
      <input type="text" id="photo_url" name="photo_url">
    </div>
    <div class="form-group">
      <button class="button" type="submit">Post</button>
    </div>
  </form>
  <script
  src="https://code.jquery.com/jquery-3.6.1.min.js"
  integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ="
  crossorigin="anonymous"></script>

<script>
  $(document).ready(function() {
    $("#photo_url").on("blur", function(event) {
      var photoUrl = event.target.value;
      var preview = $("#preview");

      if(photoUrl) {
        preview.attr("src", photoUrl);
        preview.show();
      } else {
        preview.hide();
      }
    });
  });
</script>